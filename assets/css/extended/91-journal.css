/* ---------------------------------------------------------
   14. Journal List Page (Filter, Search, Tag Dropdown)
   --------------------------------------------------------- */

.journal-divider {
    margin: 0;
    border-top: 1px solid var(--color-line);
}

/* 필터 및 검색창 래퍼: 우측 정렬 및 간격 조절 */
.journal-controls-wrap {
    display: flex;
    width: 100%;
    justify-content: flex-end;
    align-items: center;
    gap: 0.75rem;
    position: relative;
    z-index: 50;
    margin-bottom: 1rem; /* 필터/검색과 구분선 사이 간격 */
}

/* 필터 버튼과 검색창을 감싸는 래퍼 */
.journal-filter-wrap {
    display: flex;
    position: relative;
    align-items: center;
    gap: 0.75rem;
}


.journal-filter-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.35rem 0.75rem;
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--color-text-muted);
    background: transparent;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s ease, color 0.2s ease;
}

.journal-filter-btn:hover {
    color: var(--primary);
    background: rgba(128, 128, 128, 0.08);
}

.journal-filter-icon {
    font-size: 0.9rem;
    opacity: 0.9;
}

/* 검색창: 둥근 모서리, 높이 축소, 커스텀 디자인 (Tailwind/리셋 우선 덮어쓰기) */
.project-main input.journal-search-input,
.project-main .journal-search-input {
    width: 220px !important;
    padding: 0.2rem 0.75rem !important;
    font-size: 0.875rem !important;
    font-family: var(--font-sans) !important;
    color: var(--color-text-subtitle) !important;
    background: var(--color-bg-base) !important;
    border: 1px solid var(--color-line) !important;
    border-radius: 9999px !important;
    min-height: 32px !important;
    box-sizing: border-box !important;
    transition: border-color 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.project-main input.journal-search-input::placeholder,
.project-main .journal-search-input::placeholder {
    color: var(--color-text-muted);
}

.project-main input.journal-search-input:focus,
.project-main .journal-search-input:focus {
    outline: none !important;
    border-color: var(--color-accent) !important;
    color: var(--primary) !important;
    box-shadow: 0 0 0 2px rgba(124, 124, 124, 0.15) !important;
}

/* 필터 패널: 불투명 배경으로 포스트에 가려지지 않음 */
.journal-filter-panel {
    position: absolute;
    top: calc(100% + 0.5rem);
    left: 0;
    min-width: 200px;
    padding: 0.6rem 0;
    background: var(--color-bg-base);
    border: 1px solid var(--color-line);
    border-radius: 12px;
    z-index: 200;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-6px);
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease;
}

.journal-filter-panel.is-open {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.journal-filter-section {
    padding: 0 0.75rem;
}

.journal-filter-label {
    font-size: 0.65rem;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: var(--color-text-muted);
    margin: 0.4rem 0 0.35rem 0;
    padding: 0;
}

.journal-filter-option {
    display: block;
    width: 100%;
    padding: 0.4rem 0;
    font-size: 0.875rem;
    text-align: left;
    color: var(--color-text);
    background: none;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    transition: color 0.15s ease, background 0.15s ease;
}

.journal-filter-option:hover {
    color: var(--primary);
    background: rgba(255, 255, 255, 0.04);
}

.journal-filter-option-tag {
    margin-top: 0.15rem;
}

.journal-filter-divider {
    height: 1px;
    margin: 0.4rem 0.6rem;
    background: var(--color-line);
}

/* 태그 패널: 불투명 배경으로 포스트에 가려지지 않음 */
.journal-tag-panel {
    position: absolute;
    top: calc(100% + 0.5rem);
    left: calc(100% + 0.5rem);
    min-width: 180px;
    max-width: 260px;
    max-height: 280px;
    overflow-y: auto;
    padding: 0.6rem 0.75rem;
    background: var(--color-bg-base);
    border: 1px solid var(--color-line);
    border-radius: 12px;
    z-index: 200;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
    opacity: 0;
    visibility: hidden;
    transform: translateX(-6px);
    transition: opacity 0.2s ease, transform 0.2s ease, visibility 0.2s ease;
}

.journal-tag-panel.is-open {
    opacity: 1;
    visibility: visible;
    transform: translateX(0);
}

.journal-tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.35rem;
    margin-top: 0.35rem;
}

.journal-tag-empty {
    font-size: 0.8rem;
    color: var(--color-text-muted);
    margin: 0;
    padding: 0.25rem 0;
}

.journal-tag-chip {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    font-size: 0.8rem;
    font-family: var(--font-mono);
    color: var(--color-text-muted);
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid transparent;
    border-radius: 6px;
    cursor: pointer;
    transition: color 0.2s ease, background 0.2s ease, border-color 0.2s ease;
}

.journal-tag-chip:hover {
    color: var(--primary);
    background: rgba(255, 255, 255, 0.08);
    border-color: var(--color-line);
}



/* 포스트 목록 섹션 애니메이션 */
.journal-post-section {
    opacity: 0;
    animation: fadeUp 0.8s ease-out 0.3s forwards;
}



.journal-divider {
    margin: 0 !important; /* 테마에 남아있을 수 있는 구분선 여백 제거 */
    border: none !important; /* 저널 배너 하단 테두리 제거 */
}

/* 포스트 목록 컨테이너의 기본 마진/패딩 제거 */
.journal-post-section,
.exp-list-gap,
#post-list {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* 첫 번째 게시글의 윗부분 패딩을 줄여서 구분선에 더 밀착시킴 */
.post-entry:first-child {
    padding-top: 0rem !important; /* 기존 1.5rem보다 축소 */
}

/* 저널 리스트에서 포스트 카드 전체 테두리 제거 (PaperMod 기본 .post-entry border 덮어쓰기) */
.journal-post-section .post-entry {
    border: none !important;
    border-bottom: 1px solid var(--color-line) !important; /* 카드가 아닌 항목 간 구분선만 유지 */
    border-radius: 0 !important;
    background: transparent !important;
}