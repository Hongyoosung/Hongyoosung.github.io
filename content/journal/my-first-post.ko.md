---
title: "Unreal Engine에서 확장 가능한 AI 시스템 설계하기"
date: 2026-02-24T11:00:00+09:00
draft: false
description: "Behavior Tree와 Environment Query System(EQS)을 활용하여 복잡한 게임 환경에서도 유연하게 동작하는 AI 아키텍처 설계 경험을 공유합니다."
tags: ["Unreal Engine", "Game AI", "Architecture"]
categories: ["Tech"]
---

게임 개발에서 AI는 플레이어의 경험을 결정짓는 핵심 요소 중 하나입니다. 이번 포스트에서는 Unreal Engine을 활용하여 대규모 환경에서도 안정적으로 동작하는 **확장 가능한 AI 시스템 아키텍처**를 어떻게 설계했는지에 대한 경험을 공유하고자 합니다.

### 1. 기존 시스템의 한계와 새로운 접근법

과거 프로젝트에서는 State Machine 기반의 AI를 구현했으나, 상태(State)가 늘어날수록 전이(Transition) 조건이 기하급수적으로 복잡해지는 스파게티 코드를 피할 수 없었습니다. 이를 해결하기 위해 이번 프로젝트에서는 **Behavior Tree(BT)** 기반의 의사결정 모델로 전면 개편했습니다.


### 2. Behavior Tree와 EQS의 결합

단순한 BT만으로는 환경 변화에 민감하게 반응하는 AI를 만들기 어렵습니다. 우리는 여기에 **Environment Query System (EQS)**을 적극적으로 결합했습니다.

* **동적 엄폐물 탐색:** EQS를 통해 현재 플레이어의 시야(Line of Sight)를 계산하고, 가장 안전한 엄폐물 노드를 Scoring하여 AI가 실시간으로 이동 경로를 수정하도록 설계했습니다.
* **비용 기반 타겟팅:** 적(AI)이 타겟을 변경할 때, 단순한 거리만이 아니라 '이동 경로상의 위험도'를 가중치로 계산하는 커스텀 EQS Generator를 작성했습니다.

### 3. 메모리 최적화와 아키텍처의 분리

AI 개체 수가 100개를 넘어갈 때 발생하는 틱(Tick) 부하를 관리하기 위해, 시각적 정보 처리(Perception)와 논리적 판단(Decision Making) 레이어를 완전히 분리했습니다. 판단 주기를 AI의 상태(전투 중, 대기 중, 탐색 중)에 따라 동적으로 조절하는 매니저 클래스를 도입하여 CPU 점유율을 40% 이상 절감할 수 있었습니다.

---

이러한 모듈형 아키텍처 설계는 새로운 형태의 적이나 NPC를 추가할 때, 기존 로직을 훼손하지 않고 노드 트리만 확장하면 된다는 점에서 큰 유지보수 이점을 가져다주었습니다. 

다음 글에서는 커스텀 BT Task Node를 C++로 작성하는 구체적인 코드 레벨의 튜토리얼을 다루어 보겠습니다.